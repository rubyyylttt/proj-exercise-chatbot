version: "3.1"

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true

intents:
  - greet
  - goodbye
  - affirm
  - deny
  - mood_great
  - mood_unhappy
  - bot_challenge
  - request_profile_info
  - slot_getter_name
  - slot_getter_gender
  - slot_getter_age
  - slot_getter_weight
  - slot_getter_height
  - slot_getter_exercise_freq

entities:
  - name
  - gender
  - age
  - weight
  - height

slots:
  name:
    type: text
    auto_fill: false
    mappings:
    - type: from_entity
      entity: name
      conditions:
      - active_loop: profile_form
  gender:
    type: unfeaturized
    auto_fill: false
    mappings:
    - type: from_entity
      entity: gender
      conditions:
      - active_loop: profile_form
  age:
    type: unfeaturized
    auto_fill: false
    mappings:
    - type: from_entity
      entity: age
      conditions:
      - active_loop: profile_form
  weight:
    type: unfeaturized
    auto_fill: false
    mappings:
    - type: from_entity
      entity: weight
      conditions:
      - active_loop: profile_form
  height:
    type: unfeaturized
    auto_fill: false
    mappings:
    - type: from_entity
      entity: height
      conditions:
      - active_loop: profile_form
  exercise_freq:
    type: unfeaturized
    auto_fill: false
    mappings:
    - type: from_entity
      entity: exercise_freq
      conditions:
      - active_loop: profile_form
  ##requested_slot:
  ##  type: unfeaturized

forms:
  profile_form:
    required_slots:
    - name
    - gender
    - age
    - weight
    - height
    - exercise_freq


responses:
  utter_greet:
  - text: "Hey! This is your personal trainer? Are you ready to build a profile?"

  utter_cheer_up:
  - text: "Here is something to cheer you up:"
    image: "https://i.imgur.com/nGF1K8f.jpg"

  utter_did_that_help:
  - text: "Did that help you?"

  utter_happy:
  - text: "Great, carry on!"

  utter_goodbye:
  - text: "Bye"

  utter_iamabot:
  - text: "I am a bot, powered by Rasa."

  utter_ask_to_build_profile:
  - text: Are you ready for a few questions regarding your body conditions?

  utter_ask_name:
    - text: what is your name?
  utter_ask_gender:
    - text: are you a male or a female?
  utter_ask_age:
    - text: how old are you?
  utter_ask_weight:
    - text: what is your weight?
  utter_ask_height:
    - text: Can you tell me your height in cm ?
  utter_ask_workout_freq:
    - text: How many times would you do exercise in a week
  utter_remember:
    - text: Thanks. I'll keep track of that.

actions:
- action_calculate_intensity


